# PY_HHT_T1

## Hilbert-Huang Transform (힐베르트-황 변환:HHT)에서 힐베르트 스펙트럼(Instantaneous Frequency Spectrogram)은 IMF 신호의 순간 주파수를 시각화하는 유용한 도구입니다. 
## 이 스펙트럼을 시각화하려면 각 IMF의 순간 주파수와 이를 시간에 따라 플롯하는 방법을 사용합니다. 
## 아래는 `matplotlib`을 사용하여 힐베르트 스펙트럼을 시각화하는 예제 코드입니다.


### 코드 설명

   1. **대화형 모드 활성화**:
      - `plt.ion()`을 사용하여 대화형 모드를 활성화합니다. 그래프가 실시간으로 업데이트됩니다.
    
   2. **서브플롯 설정**:
      - `plt.subplots(2, 1, figsize=(12, 10))`을 사용하여 두 개의 서브플롯을 생성합니다. 첫 번째 서브플롯은 실시간 오디오 신호를, 두 번째 서브플롯은 힐베르트 스펙트럼을 표시합니다.
    
   3. **실시간 데이터 수집**:
#      - `data_collection` 함수는 `sounddevice`를 사용하여 실시간으로 오디오 데이터를 수집하고 큐(`data_queue`)에 저장합니다.
#    
#   4. **데이터 처리 및 시각화**:
#      - `process_data` 함수는 큐에서 데이터를 가져와 EEMD를 수행하고 IMF를 계산합니다.
#      - 각 IMF에 대해 힐베르트 변환을 수행하여 순간 주파수를 계산하고, 이를 두 번째 서브플롯에 시각화합니다.
#      - `ax2.clear()`를 사용하여 이전 프레임의 내용을 지우고, 새로운 IMF의 순간 주파수를 플롯합니다.
#    
#   5. **스레드와 큐**:
#      - `threading.Thread`를 사용하여 데이터 수집을 별도의 스레드에서 실행합니다. 데이터 수집과 처리 및 시각화를 병렬로 수행할 수 있습니다.
#      - `queue.Queue`는 스레드 간의 안전한 데이터 전송을 제공합니다.
#    
#   ### 주의사항
#    
#   - **주파수 범위 조정**: 힐베르트 스펙트럼의 y축 범위(`ax2.set_ylim(0, 50)`)는 데이터에 따라 조정이 필요할 수 있습니다.
#   - **서브플롯 조정**: IMF의 수와 분석할 데이터의 양에 따라 서브플롯 수를 조정하거나, 서브플롯 크기를 변경할 수 있습니다.
#   - **성능**: 실시간 데이터 수집과 시각화는 시스템의 성능에 따라 제한될 수 있습니다. 데이터 버퍼 크기와 오버랩을 조정하여 성능을 최적화할 수 있습니다.
#    
#   이 예제는 모든 IMF의 힐베르트 스펙트럼을 실시간으로 시각화하는 기본적인 구조를 제공하며, 필요에 따라 추가적인 조정과 최적화가 필요할 수 있습니다
